<div class="container-fluid main">
  <div class="col">
    <button
      class="btn btn-success my-3"
      type="button"
      routerLink="/catalog/categories"
      routerLinkActive="avtive"
    >
      <img src="../../assets/grid.svg" alt="" style="filter: invert(100%)" />
      Browse All Categories
    </button>
  </div>
  <div class="col position-relative">
    <img src="../../../../assets/cart_img.jpg" alt="" class="img-fluid" />
    <h1 class="h1 position-absolute top-50 start-50 translate-middle">My Cart</h1>
  </div>

  <div class="container" style="margin-top: 100px">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">ITEM DESCRIPTION</th>
          <th scope="col">UNIT PRICE(RS.)</th>
          <th scope="col">Quantity</th>
          <th scope="col">SUBTOTAL</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
       <!-- <p class="h4">{{group.category}}</p> -->
        <tr *ngFor="let product of existing_cart.items;let i=index">
          <td>
            <p style="margin: 0">{{ product.title}}</p>
            
          </td>
          <td>{{ product.amount | currency : "INR" }}</td>
          <td>
            <div class="d-flex qty">
              <button
                class="btn btn-sm qtyBtnMinus"
                (click)="decrementQuantity(i)"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-dash-lg"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"
                  />
                </svg>
              </button>
              <p class="text my-2 mx-3">{{ product.quantity }}</p>
              <button
                class="btn btn-sm qtyBtnPlus"
                (click)="incrementQuantity(i)"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-plus-lg"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"
                  />
                </svg>
              </button>
            </div>
          </td>
          <td>{{ product.amount * product.quantity | currency : "INR" }}</td>
          <td>
            <button class="btn removeBtn" (click)="removeItem(product.id,i)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-x-lg"
                viewBox="0 0 16 16"
              >
                <path
                  d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"
                />
              </svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="card mb-4">
      <div class="card-header py-3">
        <h5 class="mb-0">Summary</h5>
      </div>
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li
            class="list-group-item d-flex justify-content-between align-items-center px-0 pb-0"
          >
            Subtotal
            <span>{{ Subtotal() | currency : "INR" }}</span>
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center px-0"
          >
            GST
            <span>{{ GST | currency : "INR" }}</span>
          </li>
        
        <li
          class="list-group-item d-flex justify-content-between align-items-center px-0"
        >
          Shipping
          <span>{{ shipping | currency : "INR" }}</span>
        </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3"
          >
            <div>
              <strong class="h4">Total</strong>
              
            </div>
            <span
              ><strong class="h4">{{ Total | currency : "INR" }}</strong></span
            >
          </li>
        </ul>

        <button type="button" class="btn btn-primary btn-lg btn-block" (click)="goToCheckout()">
          Go to checkout
        </button>
      </div>
    </div>
  </div>
</div>
